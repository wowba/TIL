# HTTP

처음 웹 개발을 공부할때 http를 제대로 이해하지 않으면

대부분의 기능의 원리를 제대로 이해할 수 없다. 단순히 사용하기만 할줄 알 뿐!

웹 개발자는 평생 http 기반 위에서 개발해야 하기에 한번은 꼭 정리해야한다.

실무에 꼭 필요한 http 기본 지식을 습득하자!

# 인터넷 네트워크

인터넷 네트워크는 http 학습을 위해 기본적으로 알아야 한다.

### 인터넷 통신

클라이언트가 서버에게 정보를 전달하려면,

`인터넷 프로토콜`에 대해 이해해야 한다.

인터넷 프로토콜, 즉 `IP`라는 주소를 클라이언트가 부여받는다.

IP는 지정한 IP 주소에 데이터를 전달하고, 패킷이라는 통신 단위로 데이터를 전달한다.
`IP 패킷` 이라는 규칙은 출발지,목적지의 IP 등을 적고 인터넷망에 던지면
이 프로토콜에 의해 목적지가 존재하는 서버에 전달되게 된다.

### IP 프로토콜의 한계

비연결성 - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송

비신뢰성 - 중간에 패킷이 사라지면?(패킷소실) / 패킷이 순서대로 안오면?

프로그램 구분 - 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?

이 문제들을 해결해 주는게 `TCP 프로토콜` 이다

### TCP / UDP

인터넷 프로토콜 스택의 4계층은 다음과 같다

- 애플리케이션 계층 - HTTP, FTP
- 전송계층 - TCP / UDP
- 인터넷 계층 - IP
- 네트워크 인터페이스 계층

위에서 아래로 순서대로 데이터가 전달되면서 해당 계층의 정보가 데이터를 감싸며,
네트워크 인터페이스에서 랜카드를 통해 인터넷에 접속한다.

`IP 패킷` 안쪽에 있는 `TCP 세그먼트`는 다양한 정보를 담고있다.
출발지, 목적지 PORT / 전송 제어 / 순서 / 검증 정보 등, IP패킷 만으로
해결이 안됐던 문제들을 해결해준다.

TCP(전송 제어 프로토콜)의 특징은 다음과 같다.

- 연결지향 -> TCP 3 way handshake (가상 연결)
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜
- 대부분 애플리케이션에서 TCP 사용

`TCP 3 way handskake`의 순서는 다음과 같다. / SYC = 접속요청, ACK = 요청수락

1. 클라이언트가 서버에 접속 요청 (SYC)
2. 요청을 수락, 및 클라이언트에 보낸다 (SYC + ACK)
3. 클라이언트가 다시 서버에 ACK를 보낸다.
   그 후 서로 데이터 전송.

`데이터 전달 보증` 은 클라이언트가 서버에 데이터를 보내면
다시 서버에서 클라이언트에게 잘 받았다고 연락을 준다.

`순서 보장` 은 데이터가 서버에 도착 시 패킷 순서가 잘못되어있으면 그 잘못된 순서부터
다시 보내달라고도 요청할 수 있다. 물론 최적화에 따라 다르다.

`UDP 프로토콜`의 특징은 다음과 같다. (사용자 데이터그램 프로토콜)
이건 IP처럼 기능이 거의 없지만 `PORT`가 추가가 된다.

TCP 는 최적화 하기 힘들지만, UDP를 사용하면 최적화를 할 수 있다.
최근에는 UDP가 뜨고있는데, 엄청난 최적화를 통해 발전하고 있다.

### PORT

클라이언트가 한번에 여러 서버와 통신을 하게 되면 패킷이 날라올 때 혼란이 올 수 있다.

그래서 패킷에는 출발지, 목적지 PORT가 있어 프로세스가 구분이 가능하다!

즉, IP 가 아파트면, PORT는 그 안에 몇동 몇호 라고 생각하면 편하다.

0 ~ 65535 포트가 할당 가능하지만

0 ~ 1023 포트는 피하는게 좋다. 이미 많이 사용하고 있음.
FTP - 20, 21
TELNET - 23
HTTP - 80
HTTPS - 443

### DNS

IP의 문제는, 첫째로 기억하기 어렵다는것. 두번째로 변경될 수 있다는 점이 있다.

그래서 `Domain Name System`, 즉 DNS가 생겼다.

하나의 전화번호부와 같은 DNS는 도메인 명을 IP 주소로 변환시켜 준다.
